# 重学JavaScript

### 一、产生式相关概念

#####  1、符号（Symbol）

* 定义的语法结构名称

##### 2、终结符（Terminal Symbol）和非终结符（Non- Terminal Symbol）

* 终结符：不是由其他符号定义的符号，也就是说，他不会出现在产生式的左边
* 非终结符：由其他符号经过“与”、“或”等逻辑组成的符号

##### 3、语言定义

* 语言可以由一个非终结符和他的产生式来定义

##### 4、语法树

* 把一段具体的语言文本，根据产生式以树形结构来表示出来

##### 5、巴斯克-诺尔范式（BNF）

### 二、乔姆斯基谱系（形式化语言分类）

上面的是下面的子集

* ##### 3型 正则文法（Regular）

  * 规定产生式的左边只允许有一个非终结符
  * 右边在非递归时随便写，递归时只允许左递归（即只能在递归后面加东西，不能加在前面）
  * <A>::=<A>?✅
  * <A>::=?<A>❌

* ##### 2型 上下文无关文法

  * <A>::=?

* ##### 1型 上下文相关文法

  * ❓<A>？::=❓<A>? 前后问号严格对应

* ##### 0型 无限制文法

  * ?::=?

通常计算机语言文法都集中在2型和3型

### 三、现代语言的两步处理法

如：Python、Java、JavaScript、C

词法和语法统称Grammer文法

在前端领域,babel就是做类似的工作

##### 1、词法规范：正则文法（3型）

词法解析：把语言的Token部分挑出来

对应的处理模块：lexer（词法分析器）

* 空白
* 换行
* 注释
* Token（有效的词）

##### 2、语法规范：上下文无关文法（2型）

语法一般叫做Syntax

* 语法树

### 四、ToyJs 流水线

![ToyJs流水线](/Users/curtis/Documents/极客时间/前端进阶训练营/img/ToyJs流水线.png)

###### 词法分析：JS源代码词法解析得到 Token

​		正则表达式：原理上还是使用状态机，这里简化了

###### 语法分析：Token 语法分析（LR）得到 抽象语法树

* 语法分析主要有LL(k)、LR(k)
  * 第一个L代表从左边开始扫描
  * 第二个L代表产生式从左向右推导，R表示产生式从右到左规约
  * 数字K表示每一步之需要向右看k个符号
* LL语法分析
  * 自顶向下生成语法树
  * Html-parser. LL(0)
  * 编程训练（三）
* LR语法分析
  * 自下而上生成语法树
  * 构建方法
    * 构造分析表，建立转移函数
    * 移进（shift）- 规约（reduce）

###### JS标准中的产生式

* 语法规则 ECMA-262 717页

##### 运行时

* 代码执行时内存的状态(语法):人看的代码叫语法 --->   环境(0,1代码):机器运行的状态叫运行时(在内存中)

###### JS运行时至Number

* 标准IEEE754
* 8字节64位
  * 1个符号位
  * 11个指数位，以2为底数
  * 52个小数位
  * 1个隐藏位，值为1
  * 注意会有误差e

###### JS运行时之String

* 字符
* 字体
* 码点
* 字符集
  * ASCII
  * Unicode
  * GBK 简体中文
  * Big5 台湾繁体中文
* 编码方式
  * UTF-8最小以一个字节表示一个字符
  * UTF-16最小以两个字节表示一个字符

深度优先

先序遍历





##### 1、正则表达式的捕获行为

* 给正则表达式加了圆括号以后不光有了分组功能，还有捕获行为
* 如果只想分组不想捕获，就在左边圆括号后加上 ?:

